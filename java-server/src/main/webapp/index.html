<!DOCTYPE html>
<html>

<head>

    <link rel="stylesheet" href="base.css" media="screen" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script>
        $(document).ready(function () {
            $.get("lipsum.txt", function (file) {

                var output = "#text-div";
                var splitFile = file.toLowerCase().replace(/\n/g, ' ').replace(/\s+/g, ' ').split("");
                var index = 0;

                function renderOutput() {
                    $(output).text('');
                    for (let i = index; i < splitFile.length; i++) {
                        const element = splitFile[i];
                        $(output).append(element + "");
                    }
                }

                renderOutput();

                $(document).keydown(function (e) {
                    if (e.key === splitFile[index]) {
                        index++;
                        renderOutput();
                    } else {
                        $("#status-div").text("\"" + e.key + "\" != \"" + splitFile[index] + "\"");
                        // alert("\"" + typed + "\" != \"" + splitFile[index] + "\"");
                    }
                });

            });

        });
    </script>
</head>

<body>

    <div id=text-div></div>
    <div id=status-div></div>

</body>

</html>